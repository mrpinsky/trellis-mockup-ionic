<div class="drawer-container">
  <div class="fixed-content topline-container">
    <topline></topline>
  </div>
  <!-- <trellis-drawer trellis-id="conversationDetails" drawer-class="bg-white">
    <div class="child-vertical-margin" ng-include="'app/conversations/conversations-detail-details.template.html'"></div>
  </trellis-drawer> -->

  <!-- <trellis-drawer trellis-id="conversationDetailActions" force-narrow="true" side="right" drawer-class="bg-gray-9">
    <div ng-include="'app/conversations/conversations-detail-actions.template.html'"></div>
  </trellis-drawer> -->

  <div class="inner-content scroll-content inset-content-panel bg-white" style="margin-top: 86px; margin-bottom: 56px;">
    <div class="content-panel child-vertical-padding">
      <div class="conversation-information">
        <div class="participant-avatar margin-right" *ngIf="item.editors.length < 2">
          <img class="profile-image-6 border-8" [src]="fixtures.getProfileById(item.editors[0]).image_url">
        </div>
        <div class="flex margin wrap nostretch shrinkable">
          <div class="conversation-information">published by:</div>
          <div class="profile-name" *ngFor="let editor of item.editors; let last = last;">
            {{fixtures.getProfileById(editor).short_text}}{{last ? '' : ','}}&ensp;
          </div>
        </div>
      </div>


      <div class="content-panel conversation-body">
        {{item.content}}
      </div>

      <div class="flex row end margin-bottom">
        <div class="trellis-button" *ngIf="item.reply_parents.length === 1">
          <svg class="icon-2 fg-raspberry">
            <use href="#svg-icon-fontawesome-webfont-16"></use>
          </svg>
        </div>
        <reaction-stack [reactions]="item.reactions" class="flex nostretch"></reaction-stack>
        <div class="trellis-button flex nostretch" [ngClass]="{'fg-gray-3': item.$permission < 2}">
          <svg class="icon-2">
            <use href="#svg-icon-florence-icons-02"></use>
          </svg>
          <div class="tally">{{item.replies.length}}</div>
        </div>
          <!-- <svg class="icon-3 fg-raspberry" *ngIf="viewOnly">
            <use href="#svg-icon-restricted"></use>
          </svg> -->
      </div>
    </div>
    <div class="list-panel border-top-blue-2">
      <flo-comment [comment]="item" class="content-panel" *ngFor="let item of item.replies">
      </flo-comment>
    </div>
  </div>


  <!-- <trellis-drawer trellis-id="replyEditorDrawer" side="bottom" drawer-class="bg-gray-9" force-narrow="true">
    <div class="bg-gray-9 padding" ng-include="'app/conversations/replyEditor.template.html'"></div>
  </trellis-drawer> -->
</div>

<!-- <trellis-modal options="{type: 'dialog', buttons: ['cancel'], title: 'VIEW RIGHTS ONLY'}" trellis-id="conversationNoComment">
  <div class="content-panel list-panel bg-white padding-bottom-double">
    <div class="well">
      You currently do not have permission to reply to this conversation. In order to do so, you must be a member of one of the communities that this conversation was shared with. You can join one of those communities below.
    </div>
    <div class="flex" *ngFor="let community of item.communities | removeErrors track by community.$id">
      <div class="community-name">{{community.name}}</div>
      <div class="trellis-button pin-right bg-green" (click)="joinPressed(community.$id)">JOIN</div>
    </div>
  </div>
</trellis-modal> -->
